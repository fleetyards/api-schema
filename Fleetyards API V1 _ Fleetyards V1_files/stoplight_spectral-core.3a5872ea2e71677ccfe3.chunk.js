(self.webpackJsonp=self.webpackJsonp||[]).push([[57],{2079:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsedDocument=t.Document=void 0;const s=r(18);(0,s.__exportStar)(r(2672),t),(0,s.__exportStar)(r(2673),t);var n=r(2171);Object.defineProperty(t,"Document",{enumerable:!0,get:function(){return n.Document}}),Object.defineProperty(t,"ParsedDocument",{enumerable:!0,get:function(){return n.ParsedDocument}}),(0,s.__exportStar)(r(2460),t)},2171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isParsedResult=t.ParsedDocument=t.Document=t.normalizeSource=void 0;const s=r(288),n=r(2427),i=r(2096),o=r(73);function a(e){return void 0===e?null:e.length>0&&!(0,i.startsWithProtocol)(e)?(0,s.normalize)(e):e}t.normalizeSource=a;t.Document=class{constructor(e,t,r){this.input=e,this.parser=t,this.parserResult=t.parse(e),this.source=a(r),this.diagnostics=(0,n.formatParserDiagnostics)(this.parserResult.diagnostics,this.source)}getRangeForJsonPath(e,t){var r;return null===(r=this.parser.getLocationForJsonPath(this.parserResult,e,t))||void 0===r?void 0:r.range}trapAccess(e){return this.parser.trapAccess(e)}static get DEFAULT_RANGE(){return{start:{character:0,line:0},end:{character:0,line:0}}}get data(){return this.parserResult.data}};t.ParsedDocument=class{constructor(e){this.parserResult=e,this.source=a(e.source),this.diagnostics=(0,n.formatParserDiagnostics)(this.parserResult.parsed.diagnostics,this.source)}trapAccess(e){return e}getRangeForJsonPath(e,t){var r;return null===(r=this.parserResult.getLocationForJsonPath(this.parserResult.parsed,e,t))||void 0===r?void 0:r.range}get data(){return this.parserResult.parsed.data}};t.isParsedResult=e=>(0,o.isPlainObject)(e)&&(0,o.isPlainObject)(e.parsed)&&"function"==typeof e.getLocationForJsonPath},2304:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidRuleset=t.RulesetValidationError=void 0;var s=r(2433);Object.defineProperty(t,"RulesetValidationError",{enumerable:!0,get:function(){return s.RulesetValidationError}});var n=r(2434);Object.defineProperty(t,"assertValidRuleset",{enumerable:!0,get:function(){return n.assertValidRuleset}})},2427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatResolverErrors=t.formatParserDiagnostics=t.prettyPrintResolverErrorMessage=t.getDiagnosticErrorMessage=void 0;const s=r(35),n=r(13),i=r(2171),o=e=>e.toUpperCase(),a=(e,t,r)=>`${t} ${r.toLowerCase()}`;function u(e){const t=l(e.path);let r=e.message.replace(/^[a-z]/,o);return"YAMLException"!==e.code&&(r=r.replace(/([a-z])([A-Z])/g,a)),void 0!==t&&(r=r.replace(/(Duplicate key)/,"$1: "+t)),r}t.getDiagnosticErrorMessage=u;t.prettyPrintResolverErrorMessage=e=>e.replace(/^Error\s*:\s*/,"");const l=e=>{if(void 0!==e&&e.length>0)return e[e.length-1]};t.formatParserDiagnostics=function(e,t){return e.map(e=>{var r;return{...e,code:"parser",message:u(e),path:null!==(r=e.path)&&void 0!==r?r:[],...null!==t?{source:t}:null}})};t.formatResolverErrors=(e,r)=>(0,n.uniqBy)(r,"message").map(r=>{var n;const o=[...r.path,"$ref"],a=null!==(n=e.getRangeForJsonPath(o,!0))&&void 0!==n?n:i.Document.DEFAULT_RANGE,u=r.uriStack.length>0?r.uriStack[r.uriStack.length-1]:e.source;return{code:"invalid-ref",path:o,message:(0,t.prettyPrintResolverErrorMessage)(r.message),severity:s.DiagnosticSeverity.Error,range:a,...null!==u?{source:u}:null}})},2428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(18);(0,s.__exportStar)(r(2695),t),(0,s.__exportStar)(r(2429),t)},2429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortResults=t.compareResults=t.comparePosition=void 0;const s=e=>e<0?-1:e>0?1:0;t.comparePosition=(e,t)=>{const r=e.line-t.line;if(0!==r)return s(r);const n=e.character-t.character;return s(n)};t.compareResults=(e,r)=>{const n=((e,t)=>void 0===e&&void 0===t?0:void 0===e?-1:void 0===t?1:e.localeCompare(t))(e.source,r.source);if(0!==n)return s(n);const i=(0,t.comparePosition)(e.range.start,r.range.start);if(0!==i)return i;const o=((e,t)=>void 0===e&&void 0===t?0:void 0===e?-1:void 0===t?1:String(e).localeCompare(String(t),void 0,{numeric:!0}))(e.code,r.code);if(0!==o)return s(o);const a=e.path.join().localeCompare(r.path.join());return s(a)};t.sortResults=e=>[...e].sort(t.compareResults)},2431:function(e,t,r){"use strict";var s,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Ruleset=void 0;const o=r(18),a=r(288),u=r(73),l=r(2432),c=r(2304),d=r(2745),h=r(2079),f=r(2746),p=r(2458),m=r(2459),v=Symbol("@stoplight/spectral/ruleset/#stack"),g=/^\.?spectral\.(ya?ml|json|m?js)$/;let y=1;class b{constructor(e,t){var r;let a;if(this.maybeDefinition=e,s.add(this),this.id=y++,this.formats=new p.Formats,n.set(this,void 0),(0,u.isPlainObject)(e)&&"extends"in e){const{extends:t,...r}=e;(0,c.assertValidRuleset)({extends:[],...r}),a=e}else(0,c.assertValidRuleset)(e),a=e;this.definition=a,(0,o.__classPrivateFieldSet)(this,n,{severity:"recommended",...t},"f");let l=!1;this.aliases=void 0===a.aliases?null:Object.fromEntries(Object.entries(a.aliases).map(e=>{const[t,r]=e;if((0,m.isSimpleAliasDefinition)(r))return e;l=!0;const s=r.targets.map(e=>({formats:new p.Formats(e.formats),given:e.given}));return[t,{...r,targets:s}]})),this.hasComplexAliases=l;const d=null!==(r=null==t?void 0:t[v])&&void 0!==r?r:new Map;if(d.set(this.definition,this),this.extends="extends"in a?(Array.isArray(a.extends)?a.extends:[a.extends]).reduce((e,t)=>{let r,s="recommended";Array.isArray(t)?[r,s]=t:r=t;return void 0!==d.get(r)||e.push(new b(r,{severity:s,[v]:d})),e},[]):null,1===d.size&&a.overrides?this.overrides=a.overrides:this.overrides=null,d.delete(this.definition),Array.isArray(this.definition.formats))for(const e of this.definition.formats)this.formats.add(e);if(Array.isArray(this.extends))for(const{formats:e}of this.extends)for(const t of e)this.formats.add(t);this.rules=(0,o.__classPrivateFieldGet)(this,s,"m",i).call(this)}get source(){var e;return null!==(e=(0,o.__classPrivateFieldGet)(this,n,"f").source)&&void 0!==e?e:null}fromSource(e){if(null===this.overrides)return this;const{source:t}=this;if(null===e)throw new Error("Document must have some source assigned. If you use Spectral programmatically make sure to pass the source to Document");if(null===t)throw new Error("Ruleset must have some source assigned. If you use Spectral programmatically make sure to pass the source to Ruleset");const r=(0,a.relative)((0,a.dirname)(t),e),s={},n=this.overrides.flatMap(({files:e,...n})=>{var i,o;const a=[];for(const c of e){const e=null!==(i=(0,u.extractSourceFromRef)(c))&&void 0!==i?i:c;if(!(0,l.minimatch)(r,e))continue;const d=(0,u.extractPointerFromRef)(c);if(e===c)a.push(c);else{if(!("rules"in n)||null===d)throw new Error("Unknown error. The ruleset is presumably invalid.");for(const[r,i]of Object.entries(n.rules)){if("object"==typeof i||"boolean"==typeof i)throw new Error("Unknown error. The ruleset is presumably invalid.");const{definition:n}=null!==(o=s[r])&&void 0!==o?o:s[r]={rulesetSource:t,definition:new Map},a=(0,h.getDiagnosticSeverity)(i);let u=n.get(e);void 0===u&&(u=new Map,n.set(e,u)),u.set(d,a)}}}return 0===a.length?[]:n}),{overrides:i,...o}=this.definition;if(0===n.length&&0===Object.keys(s).length)return this;const c=0===n.length?null:n.length>1?n.slice(1).reduce((e,t)=>(0,f.mergeRulesets)(e,t,!0),n[0]):n[0],d=new b(null===c?o:(0,f.mergeRulesets)(o,c,!1),{severity:"recommended",source:t});for(const[e,t]of Object.entries(s))e in d.rules&&(d.rules[e].overrides=t);return d}get parserOptions(){return{...h.DEFAULT_PARSER_OPTIONS,...this.definition.parserOptions}}static isDefaultRulesetFile(e){return g.test(e)}toJSON(){return{id:this.id,extends:this.extends,source:this.source,aliases:this.aliases,formats:0===this.formats.size?null:this.formats,rules:this.rules,overrides:this.overrides,parserOptions:this.parserOptions}}}t.Ruleset=b,n=new WeakMap,s=new WeakSet,i=function(){const e={};if(null!==this.extends&&this.extends.length>0)for(const t of this.extends)if(t!==this)for(const r of Object.values(t.rules))e[r.name]=r;if("rules"in this.definition)for(const[t,r]of Object.entries(this.definition.rules)){const s=(0,d.mergeRule)(e[t],t,r,this);if(e[t]=s,s.owner===this&&(s.enabled="all"===(0,o.__classPrivateFieldGet)(this,n,"f").severity||"recommended"===(0,o.__classPrivateFieldGet)(this,n,"f").severity&&s.recommended),null!==s.formats)for(const e of s.formats)this.formats.add(e);else s.owner!==this?s.formats=void 0===s.owner.definition.formats?null:new p.Formats(s.owner.definition.formats):void 0!==this.definition.formats&&(s.formats=new p.Formats(this.definition.formats));void 0!==this.definition.documentationUrl&&null===s.documentationUrl&&(s.documentationUrl=`${this.definition.documentationUrl}#${t}`)}return e}},2432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minimatch=void 0;const s=(0,r(18).__importDefault)(r(2710)),n={matchBase:!0};t.minimatch=function(e,t){return(0,s.default)(e,t,n)}},2433:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RulesetAjvValidationError=t.RulesetValidationError=void 0;const s=r(2096);class n extends Error{constructor(e){super(e),this.message=e}}t.RulesetValidationError=n;const i=/^\/rules\/[^/]+/,o=/^\/(?:aliases|extends|overrides(?:\/\d+\/extends)?)/;class a extends n{constructor(e,t){super(a.serializeAjvErrors(e,t)),this.ruleset=e,this.errors=t}static serializeAjvErrors(e,t){const r=[...t].sort((e,t)=>{const r=e.instancePath.length-t.instancePath.length;return 0===r?"errorMessage"===e.keyword&&"errorMessage"!==t.keyword?-1:0:r}).filter((e,t,r)=>0===t||r[t-1].instancePath!==e.instancePath),n=[];e:for(let e=0;e<r.length;e++){const t=r[e],s=0===e?null:r[e-1];if(o.test(t.instancePath)){let s=1;for(;e+s<r.length;){if(r[e+s].instancePath.startsWith(t.instancePath)||!o.test(r[e+s].instancePath))continue e;s++}}else{if(null===s){n.push(t);continue}{const e=i.exec(t.instancePath);null!==e&&e[0]!==e.input&&e[0]===s.instancePath&&n.pop()}}n.push(t)}return n.map(({message:e,instancePath:t})=>`Error at ${(0,s.printPath)(t.slice(1).split("/"),s.PrintStyle.Pointer)}: ${null!=e?e:""}`).join("\n")}}t.RulesetAjvValidationError=a},2434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidRule=t.isValidRule=t.assertValidRuleset=void 0;const s=r(73),n=r(2714),i=r(2433);function o(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&("given"in e||"then"in e)}t.assertValidRuleset=function(e,t="js"){var r;if(!(0,s.isPlainObject)(e))throw new Error("Provided ruleset is not an object");if(!("rules"in e)&&!("extends"in e)&&!("overrides"in e))throw new i.RulesetValidationError("Ruleset must have rules or extends or overrides defined");const o=(0,n.createValidator)(t);if(!o(e))throw new i.RulesetAjvValidationError(e,null!==(r=o.errors)&&void 0!==r?r:[])},t.isValidRule=o,t.assertValidRule=function(e){if(!o(e))throw new TypeError("Invalid rule")}},2456:function(e,t,r){"use strict";var s,n,i,o,a,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.Rule=void 0;const c=r(18),d=r(13),h=r(288),f=r(73),p=r(2096),m=r(2457),v=r(2432),g=r(2458),y=r(2459),b=/^#([A-Za-z0-9_-]+)/;class _{constructor(e,t,r){var s,u,l;this.name=e,this.definition=t,this.owner=r,n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),this.recommended=!1!==t.recommended,(0,c.__classPrivateFieldSet)(this,i,this.recommended,"f"),this.description=null!==(s=t.description)&&void 0!==s?s:null,this.message=null!==(u=t.message)&&void 0!==u?u:null,this.documentationUrl=null!==(l=t.documentationUrl)&&void 0!==l?l:null,this.severity=t.severity,this.resolved=!1!==t.resolved,this.formats="formats"in t?new g.Formats(t.formats):null,this.then=t.then,this.given=t.given}get enabled(){return(0,c.__classPrivateFieldGet)(this,i,"f")||void 0!==this.overrides}set enabled(e){(0,c.__classPrivateFieldSet)(this,i,e,"f")}getSeverityForSource(e,t){if(void 0===this.overrides||0===this.overrides.definition.size)return this.severity;const r=(0,h.relative)((0,h.dirname)(this.overrides.rulesetSource),e),s=[];for(const[e,t]of this.overrides.definition.entries())(0,v.minimatch)(r,e)&&s.push(t);if(0===s.length)return this.severity;let n=this.severity,i="";const o=(0,f.pathToPointer)(t);for(const e of s)for(const[t,r]of e.entries())t.length>=i.length&&o.startsWith(t)&&(i=t,n=r);return n}get severity(){return(0,c.__classPrivateFieldGet)(this,n,"f")}set severity(e){void 0===e?(0,c.__classPrivateFieldSet)(this,n,m.DEFAULT_SEVERITY_LEVEL,"f"):(0,c.__classPrivateFieldSet)(this,n,(0,m.getDiagnosticSeverity)(e),"f")}get then(){return(0,c.__classPrivateFieldGet)(this,o,"f")}set then(e){(0,c.__classPrivateFieldSet)(this,o,Array.isArray(e)?e:[e],"f")}get given(){return(0,c.__classPrivateFieldGet)(this,a,"f")}set given(e){const t=Array.isArray(e)?e:[e];(0,c.__classPrivateFieldSet)(this,a,this.owner.hasComplexAliases?t:t.flatMap(e=>(0,c.__classPrivateFieldGet)(_,s,"m",u).call(_,this.owner.aliases,e,null,new Set)).filter(d.isString),"f")}getGivenForFormats(e){return this.owner.hasComplexAliases?(0,c.__classPrivateFieldGet)(this,a,"f").flatMap(t=>(0,c.__classPrivateFieldGet)(_,s,"m",u).call(_,this.owner.aliases,t,e,new Set)):(0,c.__classPrivateFieldGet)(this,a,"f")}matchesFormat(e){if(null===this.formats)return!0;if(null===e)return!1;for(const t of e)if(this.formats.has(t))return!0;return!1}clone(){return new _(this.name,this.definition,this.owner)}toJSON(){return{name:this.name,recommended:this.recommended,enabled:this.enabled,description:this.description,message:this.message,documentationUrl:this.documentationUrl,severity:this.severity,resolved:this.resolved,formats:this.formats,then:this.then.map(e=>({...e.function,function:e.function.name,..."functionOptions"in e?{functionOptions:(0,p.printValue)(e.functionOptions)}:null})),given:Array.isArray(this.definition.given)?this.definition.given:[this.definition.given],owner:this.owner.id}}}t.Rule=_,s=_,n=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,u=function e(t,r,n,i){var o;const a=[];if(r.startsWith("#")){const u=null===(o=b.exec(r))||void 0===o?void 0:o[1];if(null==u)throw new ReferenceError(`"${this.name}" rule references an invalid alias`);if(i.has(u)){const e=[...i,u];throw new ReferenceError(`Alias "${e[0]}" is circular. Resolution stack: ${e.join(" -> ")}`)}if(i.add(u),null===t||!(u in t))throw new ReferenceError(`Alias "${u}" does not exist`);const d=t[u];let h;h=(0,y.isSimpleAliasDefinition)(d)?d:(0,c.__classPrivateFieldGet)(_,s,"m",l).call(_,d,n),null!==h&&a.push(...h.flatMap(o=>(0,c.__classPrivateFieldGet)(_,s,"m",e).call(_,t,o+r.slice(u.length+1),n,new Set([...i]))))}else a.push(r);return a},l=function({targets:e},t){if(null===t||0===t.size)return null;for(let r=e.length-1;r>=0;r--){const s=e[r];for(const e of s.formats)if(t.has(e))return s.given}return null}},2457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDiagnosticSeverity=t.DEFAULT_SEVERITY_LEVEL=void 0;const s=r(35);t.DEFAULT_SEVERITY_LEVEL=s.DiagnosticSeverity.Warning;const n={error:s.DiagnosticSeverity.Error,warn:s.DiagnosticSeverity.Warning,info:s.DiagnosticSeverity.Information,hint:s.DiagnosticSeverity.Hint,off:-1};t.getDiagnosticSeverity=function(e){return Number.isNaN(Number(e))?n[e]:Number(e)}},2458:function(e,t,r){"use strict";function s(e){var t;return null!==(t=e.displayName)&&void 0!==t?t:e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.Formats=void 0;class n extends Set{toJSON(){return Array.from(this).map(s)}}t.Formats=n},2459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSimpleAliasDefinition=void 0,t.isSimpleAliasDefinition=function(e){return"string"==typeof e||Array.isArray(e)}},2460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rule=t.Ruleset=t.createRulesetFunction=t.getDiagnosticSeverity=t.RulesetValidationError=t.assertValidRuleset=void 0;var s=r(2304);Object.defineProperty(t,"assertValidRuleset",{enumerable:!0,get:function(){return s.assertValidRuleset}}),Object.defineProperty(t,"RulesetValidationError",{enumerable:!0,get:function(){return s.RulesetValidationError}});var n=r(2457);Object.defineProperty(t,"getDiagnosticSeverity",{enumerable:!0,get:function(){return n.getDiagnosticSeverity}});var i=r(2748);Object.defineProperty(t,"createRulesetFunction",{enumerable:!0,get:function(){return i.createRulesetFunction}});var o=r(2431);Object.defineProperty(t,"Ruleset",{enumerable:!0,get:function(){return o.Ruleset}});var a=r(2456);Object.defineProperty(t,"Rule",{enumerable:!0,get:function(){return a.Rule}})},2672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PARSER_OPTIONS=void 0;const s=r(35);t.DEFAULT_PARSER_OPTIONS=Object.freeze({incompatibleValues:s.DiagnosticSeverity.Error,duplicateKeys:s.DiagnosticSeverity.Error})},2673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spectral=void 0;const s=r(18),n=r(73),i=r(35),o=(0,s.__importStar)(r(2225)),a=r(2422),u=r(13),l=r(2171),c=r(2692),d=r(2693),h=r(2428),f=r(2431),p=r(2747),m=r(2460);u.memoize.Cache=WeakMap,(0,s.__exportStar)(r(2749),t);t.Spectral=class{constructor(e){this.opts=e,this._computeFingerprint=(0,u.memoize)(h.defaultComputeResultFingerprint),void 0!==(null==e?void 0:e.resolver)?this._resolver=e.resolver:this._resolver=(0,a.createHttpAndFileResolver)(),this.runtime=new d.RunnerRuntime}parseDocument(e){return e instanceof l.Document?e:(0,l.isParsedResult)(e)?new l.ParsedDocument(e):new l.Document("string"==typeof e?e:(0,n.stringify)(e,void 0,2),o.Yaml)}async runWithResolved(e,t={}){if(void 0===this.ruleset)throw new Error("No ruleset has been defined. Have you called setRuleset()?");const r=this.parseDocument(e),s=this.ruleset.fromSource(r.source),n=new c.DocumentInventory(r,this._resolver);await n.resolve();const i=new d.Runner(this.runtime,n);if(i.results.push(...this._filterParserErrors(r.diagnostics,s.parserOptions)),void 0===r.formats){const e=[...s.formats].filter(e=>e(n.resolved,r.source));0===e.length&&!0!==t.ignoreUnknownFormat?(r.formats=null,s.formats.size>0&&i.addResult(this._generateUnrecognizedFormatError(r,Array.from(s.formats)))):r.formats=new Set(e)}await i.run(s);const o=i.getResults(this._computeFingerprint);return{resolved:n.resolved,results:o}}async run(e,t={}){return(await this.runWithResolved(e,t)).results}setRuleset(e){this.runtime.revoke(),this.ruleset=e instanceof f.Ruleset?e:new f.Ruleset(e)}_generateUnrecognizedFormatError(e,t){return(0,p.generateDocumentWideResult)(e,`The provided document does not match any of the registered formats [${t.map(e=>{var t;return null!==(t=e.displayName)&&void 0!==t?t:e.name}).join(", ")}]`,i.DiagnosticSeverity.Warning,"unrecognized-format")}_filterParserErrors(e,t){return e.reduce((e,r)=>{if("parser"!==r.code)return e;let s;if(r.message.startsWith("Mapping key must be a string scalar rather than"))s=(0,m.getDiagnosticSeverity)(t.incompatibleValues);else{if(!r.message.startsWith("Duplicate key"))return e.push(r),e;s=(0,m.getDiagnosticSeverity)(t.duplicateKeys)}return-1!==s&&(e.push(r),r.severity=s),e},[])}}},2692:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentInventory=void 0;const s=r(18),n=r(73),i=r(288),o=r(13),a=r(2171),u=r(2427),l=(0,s.__importStar)(r(2225)),c=r(2096);class d{constructor(e,t){this.document=e,this.resolver=t,this.diagnostics=[],this.parseResolveResult=e=>{const t=e.targetAuthority.href().replace(/\/$/,""),r=(0,i.extname)(t),s=String(e.result),n=".json"===r?l.Json:l.Yaml,o=new a.Document(s,n,t);return e.result=o.data,o.diagnostics.length>0&&this.diagnostics.push(...(0,u.formatParserDiagnostics)(o.diagnostics,o.source)),this.referencedDocuments[t]=o,Promise.resolve(e)},this.graph=null,this.errors=null;const r=t.uriCache,s=d._cachedRemoteDocuments.get(r);void 0!==s?this.referencedDocuments=s:(this.referencedDocuments={},d._cachedRemoteDocuments.set(r,this.referencedDocuments))}get source(){return this.document.source}get unresolved(){return this.document.data}get formats(){var e;return null!==(e=this.document.formats)&&void 0!==e?e:null}async resolve(){if(!(0,o.isObjectLike)(this.document.data))return this.graph=null,this.resolved=this.document.data,void(this.errors=null);const e=await this.resolver.resolve(this.document.data,{...null!==this.document.source?{baseUri:this.document.source}:null,parseResolveResult:this.parseResolveResult});this.graph=e.graph,this.resolved=e.result,this.errors=(0,u.formatResolverErrors)(this.document,e.errors)}findAssociatedItemForPath(e,t){if(!t){const t=(0,c.getClosestJsonPath)(this.unresolved,e);return{document:this.document,path:t,missingPropertyPath:e}}try{const t=(0,c.getClosestJsonPath)(this.resolved,e);let r=(0,c.traverseObjUntilRef)(this.unresolved,t);if(null===r)return{document:this.document,path:(0,c.getClosestJsonPath)(this.unresolved,e),missingPropertyPath:e};const s=0===t.length?[]:e.slice(e.lastIndexOf(t[t.length-1])+1);let{source:a}=this;for(;;){if(null===a||null===this.graph)return null;if(r=(0,c.getEndRef)(this.graph.getNodeData(a).refMap,r),null===r)return null;const u=[...(0,c.safePointerToPath)(r),...t];let l=this.document;if((0,n.isLocalRef)(r))l=a===this.document.source?this.document:this.referencedDocuments[a];else{const t=(0,n.extractSourceFromRef)(r);if(null===t)return{document:l,path:(0,c.getClosestJsonPath)(l.data,e),missingPropertyPath:e};a=(0,c.isAbsoluteRef)(t)?t:(0,i.resolve)(a,"..",t),l=a===this.document.source?this.document:this.referencedDocuments[a];const s=0===u.length||(0,n.hasRef)(l.data)?l.data:(0,o.get)(l.data,u);if((0,n.hasRef)(s)){r=s.$ref;continue}}const d=(0,c.getClosestJsonPath)(l.data,u);return{document:l,path:d,missingPropertyPath:[...d,...s]}}}catch{return null}}}t.DocumentInventory=d,d._cachedRemoteDocuments=new WeakMap},2693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnerRuntime=t.Runner=void 0;var s=r(2694);Object.defineProperty(t,"Runner",{enumerable:!0,get:function(){return s.Runner}});var n=r(2709);Object.defineProperty(t,"RunnerRuntime",{enumerable:!0,get:function(){return n.RunnerRuntime}})},2694:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runner=void 0;const s=r(18),n=r(2428),i=r(2696),o=(0,s.__importDefault)(r(2889)),a=r(2892),u=r(73);function l(e,t,r){var s;if(!(0,u.isPlainObject)(e)&&!Array.isArray(e)){for(const r of null!==(s=t.$)&&void 0!==s?s:[])r({path:[],value:e});return}new o.default(r,{fallback:a.jsonPathPlus,unsafe:!1,output:"auto",customShorthands:{}}).query(e,Object.entries(t).reduce((e,[t,r])=>(e[t]=e=>{for(const t of r)t(e)},e),{}))}t.Runner=class{constructor(e,t){var r;this.runtime=e,this.inventory=t,this.results=[...this.inventory.diagnostics,...null!==(r=this.inventory.errors)&&void 0!==r?r:[]]}get document(){return this.inventory.document}addResult(e){this.results.push(e)}async run(e){var t,r,s;this.runtime.emit("setup");const{inventory:n}=this,{rules:o}=e,a=null!==(t=this.document.formats)&&void 0!==t?t:null,u={ruleset:e,documentInventory:n,results:this.results,promises:[]},c=Object.values(o).filter(e=>e.enabled).filter(e=>e.matchesFormat(n.formats)),d={resolved:{},unresolved:{}};for(const e of c)for(const t of e.getGivenForFormats(a)){const n=t=>{(0,i.lintNode)(u,t,e)};(null!==(r=(s=d[e.resolved?"resolved":"unresolved"])[t])&&void 0!==r?r:s[t]=[]).push(n)}const h=Object.keys(d.resolved),f=Object.keys(d.unresolved);h.length>0&&l(u.documentInventory.resolved,d.resolved,h),f.length>0&&l(u.documentInventory.unresolved,d.unresolved,f),this.runtime.emit("beforeTeardown");try{u.promises.length>0&&await Promise.all(u.promises)}finally{this.runtime.emit("afterTeardown")}}getResults(e){return(0,n.prepareResults)(this.results,e)}}},2695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareResults=t.defaultComputeResultFingerprint=void 0;const s=r(923),n=r(13),i=r(2429);t.defaultComputeResultFingerprint=(e,t)=>{let r=String(e.code);return e.path.length>0?r+=JSON.stringify(e.path):r+=JSON.stringify(e.range),void 0!==e.source&&(r+=e.source),void 0!==e.message&&(r+=e.message),t(r)};t.prepareResults=(e,t)=>(o(e,t),u(a(e)));const o=(e,t)=>{for(const r of e)Object.defineProperty(r,"fingerprint",{value:t(r,s)});return e},a=e=>(0,n.uniqBy)([...e],"fingerprint"),u=e=>[...e].sort(i.compareResults)},2696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lintNode=void 0;const s=r(2096),n=r(13),i=r(2274),o=r(2171),a=r(2697);function u(e,t,r,i){var u,l,c,d,h;for(const f of t){const t=(null!==(u=f.path)&&void 0!==u?u:i).map(s.decodeSegmentFragment),p=e.documentInventory.findAssociatedItemForPath(t,r.resolved),m=null!==(l=null==p?void 0:p.path)&&void 0!==l?l:(0,s.getClosestJsonPath)(e.documentInventory.resolved,t),v=null==p?void 0:p.document.source,g=null!==(c=null==p?void 0:p.document)&&void 0!==c?c:e.documentInventory.document,y=null!==(d=g.getRangeForJsonPath(m,!0))&&void 0!==d?d:o.Document.DEFAULT_RANGE,b=0===m.length?g.data:(0,n.get)(g.data,m),_={property:void 0!==(null==p?void 0:p.missingPropertyPath)&&p.missingPropertyPath.length>m.length?(0,s.printPath)(p.missingPropertyPath.slice(m.length-1),s.PrintStyle.Dot):m.length>0?m[m.length-1]:"",error:f.message,path:(0,s.printPath)(m,s.PrintStyle.EscapedPointer),description:r.description,value:b},P=(0,a.message)(f.message,_);_.error=P;const R=null!=v?r.getSeverityForSource(v,m):r.severity;-1!==R&&e.results.push({code:r.name,message:(null===r.message?null!==(h=r.description)&&void 0!==h?h:P:(0,a.message)(r.message,_)).trim(),path:m,severity:R,...null!==v?{source:v}:null,range:y})}}t.lintNode=(e,t,r)=>{var s;const o={document:e.documentInventory.document,documentInventory:e.documentInventory,rule:r,path:[]},l=t.path.length>0&&"$"===t.path[0]?t.path.slice(1):t.path;for(const c of r.then){const d=(0,a.getLintTargets)(t.value,c.field);for(const t of d){const a=t.path.length>0?[...l,...t.path]:l;let d;try{d=c.function(t.value,null!==(s=c.functionOptions)&&void 0!==s?s:null,{...o,path:a})}catch(e){throw new i.ErrorWithCause(`Function "${c.function.name}" threw an exception${(0,n.isError)(e)?": "+e.message:""}`,{cause:e})}void 0!==d&&("then"in d?e.promises.push(d.then(t=>void 0===t?void 0:void u(e,t,r,a))):u(e,d,r,a))}}}},2697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(18);(0,s.__exportStar)(r(2698),t),(0,s.__exportStar)(r(2699),t)},2698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLintTargets=void 0;const s=r(2430),n=r(13);t.getLintTargets=(e,t)=>{const r=[];if((0,n.isObject)(e)&&"string"==typeof t)if("@key"===t)for(const t of Object.keys(e))r.push({path:[t],value:t});else t.startsWith("$")?(0,s.JSONPath)({path:t,json:e,resultType:"all",callback(e){r.push({path:(0,n.toPath)(e.path.slice(1)),value:e.value})}}):r.push({path:(0,n.toPath)(t),value:(0,n.get)(e,t)});else r.push({path:[],value:e});return 0===r.length&&r.push({path:[],value:void 0}),r}},2699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.message=void 0;const s=r(2096),n=new(r(2700).Replacer)(2);n.addFunction("print",(function(e){if("string"!=typeof e)return"";const{property:t,value:r}=this;switch(e){case"property":return void 0!==t&&""!==t?`"${t}" property `:"The document ";case"value":return(0,s.printValue)(r);default:return e in this&&null!==this[e]?String(this[e]):""}})),t.message=n.print.bind(n)},2700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Replacer=void 0;const s=(0,r(18).__importDefault)(r(2701));t.Replacer=class{constructor(e){this.regex=new RegExp(`#?${"{".repeat(e)}([^}\n]+)${"}".repeat(e)}`,"g"),this.functions={}}addFunction(e,t){this.functions[e]=t}print(e,t){return e.replace(this.regex,(r,n,i)=>"#"===e[i]?String((0,s.default)(n,{...Object.entries(this.functions).reduce((e,[r,s])=>(e[r]=s.bind(t),e),{}),...t})):n in t?String(t[n]):"")}}},2709:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnerRuntime=void 0;const s=r(402);class n extends s.EventEmitter{constructor(){super(),this.revokables=[]}persist(e){const{proxy:t,revoke:r}=Proxy.revocable(e,{});return this.revokables.push(r),t}revoke(){let e;for(;e=this.revokables.shift();)e()}spawn(){return this.persist(Object.freeze({on:this.hijackDisposable(this.on)}))}hijackDisposable(e){return(...t)=>{this.revokables.push(e.apply(this,t).dispose)}}}t.RunnerRuntime=n},2710:function(e,t,r){e.exports=c,c.Minimatch=d;var s={sep:"/"};try{s=r(451)}catch(e){}var n=c.GLOBSTAR=d.GLOBSTAR={},i=r(2711),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var u=/\/+/;function l(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function c(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new d(t,r).match(e))}function d(e,t){if(!(this instanceof d))return new d(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==s.sep&&(e=e.split(s.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof d?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}c.filter=function(e,t){return t=t||{},function(r,s,n){return c(r,e,t)}},c.defaults=function(e){if(!e||!Object.keys(e).length)return c;var t=c,r=function(r,s,n){return t.minimatch(r,s,l(e,n))};return r.Minimatch=function(r,s){return new t.Minimatch(r,l(e,s))},r},d.defaults=function(e){return e&&Object.keys(e).length?c.defaults(e).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(u)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,s=0;if(r.nonegate)return;for(var n=0,i=e.length;n<i&&"!"===e.charAt(n);n++)t=!t,s++;s&&(this.pattern=e.substr(s));this.negate=t},c.braceExpand=function(e,t){return h(e,t)},d.prototype.braceExpand=h,d.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return n;if(""===e)return"";var s,i="",u=!!r.nocase,l=!1,c=[],d=[],h=!1,p=-1,m=-1,v="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function y(){if(s){switch(s){case"*":i+="[^/]*?",u=!0;break;case"?":i+="[^/]",u=!0;break;default:i+="\\"+s}g.debug("clearStateChar %j %j",s,i),s=!1}}for(var b,_=0,P=e.length;_<P&&(b=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,i,b),l&&a[b])i+="\\"+b,l=!1;else switch(b){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,i,b),h){this.debug("  in class"),"!"===b&&_===m+1&&(b="^"),i+=b;continue}g.debug("call clearStateChar %j",s),y(),s=b,r.noext&&y();continue;case"(":if(h){i+="(";continue}if(!s){i+="\\(";continue}c.push({type:s,start:_-1,reStart:i.length,open:o[s].open,close:o[s].close}),i+="!"===s?"(?:(?!(?:":"(?:",this.debug("plType %j %j",s,i),s=!1;continue;case")":if(h||!c.length){i+="\\)";continue}y(),u=!0;var R=c.pop();i+=R.close,"!"===R.type&&d.push(R),R.reEnd=i.length;continue;case"|":if(h||!c.length||l){i+="\\|",l=!1;continue}y(),i+="|";continue;case"[":if(y(),h){i+="\\"+b;continue}h=!0,m=_,p=i.length,i+=b;continue;case"]":if(_===m+1||!h){i+="\\"+b,l=!1;continue}if(h){var w=e.substring(m+1,_);try{RegExp("["+w+"]")}catch(e){var j=this.parse(w,f);i=i.substr(0,p)+"\\["+j[0]+"\\]",u=u||j[1],h=!1;continue}}u=!0,h=!1,i+=b;continue;default:y(),l?l=!1:!a[b]||"^"===b&&h||(i+="\\"),i+=b}h&&(w=e.substr(m+1),j=this.parse(w,f),i=i.substr(0,p)+"\\["+j[0],u=u||j[1]);for(R=c.pop();R;R=c.pop()){var S=i.slice(R.reStart+R.open.length);this.debug("setting tail",i,R),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",S,S,R,i);var O="*"===R.type?"[^/]*?":"?"===R.type?"[^/]":"\\"+R.type;u=!0,i=i.slice(0,R.reStart)+O+"\\("+S}y(),l&&(i+="\\\\");var $=!1;switch(i.charAt(0)){case".":case"[":case"(":$=!0}for(var x=d.length-1;x>-1;x--){var E=d[x],D=i.slice(0,E.reStart),A=i.slice(E.reStart,E.reEnd-8),F=i.slice(E.reEnd-8,E.reEnd),M=i.slice(E.reEnd);F+=M;var k=D.split("(").length-1,V=M;for(_=0;_<k;_++)V=V.replace(/\)[+*?]?/,"");var T="";""===(M=V)&&t!==f&&(T="$"),i=D+A+M+T+F}""!==i&&u&&(i="(?=.)"+i);$&&(i=v+i);if(t===f)return[i,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var I=r.nocase?"i":"";try{var N=new RegExp("^"+i+"$",I)}catch(e){return new RegExp("$.")}return N._glob=e,N._src=i,N};var f={};c.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===n?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,s)}catch(e){this.regexp=!1}return this.regexp},c.match=function(e,t,r){var s=new d(t,r=r||{});return e=e.filter((function(e){return s.match(e)})),s.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==s.sep&&(e=e.split(s.sep).join("/"));e=e.split(u),this.debug(this.pattern,"split",e);var n,i,o=this.set;for(this.debug(this.pattern,"set",o),i=e.length-1;i>=0&&!(n=e[i]);i--);for(i=0;i<o.length;i++){var a=o[i],l=e;if(r.matchBase&&1===a.length&&(l=[n]),this.matchOne(l,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,r){var s=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,u=t.length;i<a&&o<u;i++,o++){this.debug("matchOne loop");var l,c=t[o],d=e[i];if(this.debug(t,c,d),!1===c)return!1;if(c===n){this.debug("GLOBSTAR",[t,c,d]);var h=i,f=o+1;if(f===u){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!s.dot&&"."===e[i].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),r))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!s.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}if("string"==typeof c?(l=s.nocase?d.toLowerCase()===c.toLowerCase():d===c,this.debug("string match",c,d,l)):(l=d.match(c),this.debug("pattern match",c,d,l)),!l)return!1}if(i===a&&o===u)return!0;if(i===a)return r;if(o===u)return i===a-1&&""===e[i];throw new Error("wtf?")}},2714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidator=void 0;const s=r(18),n=(0,s.__importStar)(r(2131)),i=(0,s.__importDefault)(r(2232)),o=(0,s.__importDefault)(r(2310)),a=(0,s.__importStar)(r(2740)),u=(0,s.__importStar)(r(2741)),l=(0,s.__importStar)(r(2742)),c=(0,s.__importStar)(r(2743)),d=(0,s.__importStar)(r(2744)),h=n._`'spectral-message'`,f={js:null,json:null};t.createValidator=function(e){const t=f[e];if(null!==t)return t;const r=new n.default({allErrors:!0,strict:!0,strictRequired:!1,keywords:["$anchor"],schemas:[a,u]});(0,i.default)(r),(0,o.default)(r),r.addKeyword({keyword:"spectral-runtime",schemaType:"string",error:{message:e=>n._`${e.data}[Symbol.for(${h})]`},code(e){const{data:t}=e;switch(e.schema){case"format":e.fail(n._`typeof ${t} !== "function"`);break;case"ruleset-function":e.pass(n._`typeof ${t}.function === "function"`),e.pass(n._`(() => { try { ${t}.function.validator && ${t}.function.validator('functionOptions' in ${t} ? ${t} : null); } catch (e) { ${t}[${h}] = e.message } })()`)}}}),"js"===e?r.addSchema(c):r.addSchema(d);const s=r.compile(l);return f[e]=s,s}},2740:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"@stoplight/spectral-core/meta/rule.schema","$defs":{"Then":{"type":"object","allOf":[{"properties":{"field":{"type":"string"}}},{"$ref":"extensions#function"}]},"Severity":{"$ref":"shared#severity"}},"oneOf":[{"properties":{"description":{"type":"string"},"documentationUrl":{"type":"string","format":"url","errorMessage":"must be a valid URL"},"recommended":{"type":"boolean"},"given":{"$ref":"shared#given"},"resolved":{"type":"boolean"},"severity":{"$ref":"#/$defs/Severity"},"message":{"type":"string"},"tags":{"items":{"type":"string"},"type":"array"},"formats":{"$ref":"shared#formats"},"then":{"anyOf":[{"$ref":"#/$defs/Then"},{"items":{"$ref":"#/$defs/Then"},"type":"array"}]},"type":{"enum":["style","validation"],"type":"string","errorMessage":"allowed types are \\"style\\" and \\"validation\\""}},"required":["given","then"],"type":"object","additionalProperties":false,"errorMessage":{"required":"the rule must have at least \\"given\\" and \\"then\\" properties"}},{"$ref":"shared#/$defs/HumanReadableSeverity"},{"type":"boolean"}]}')},2741:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"@stoplight/spectral-core/meta/shared","$defs":{"Formats":{"$anchor":"formats","type":"array","items":{"$ref":"extensions#format"},"errorMessage":"must be an array of formats"},"DiagnosticSeverity":{"enum":[-1,0,1,2,3]},"HumanReadableSeverity":{"enum":["error","warn","info","hint","off"]},"Severity":{"$anchor":"severity","oneOf":[{"$ref":"#/$defs/DiagnosticSeverity"},{"$ref":"#/$defs/HumanReadableSeverity"}],"errorMessage":"the value has to be one of: 0, 1, 2, 3 or \\"error\\", \\"warn\\", \\"info\\", \\"hint\\", \\"off\\""},"Given":{"$anchor":"given","if":{"type":"array"},"then":{"$anchor":"arrayish-given","type":"array","items":{"$ref":"path-expression"},"minItems":1,"errorMessage":{"minItems":"must be a non-empty array of expressions"}},"else":{"$ref":"path-expression"}},"PathExpression":{"$id":"path-expression","type":"string","pattern":"^[$#]","errorMessage":"must be a valid JSON Path expression or a reference to the existing Alias optionally paired with a JSON Path expression subset"}}}')},2742:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"@stoplight/spectral-core/meta/ruleset.schema","type":"object","additionalProperties":false,"properties":{"documentationUrl":{"type":"string","format":"url","errorMessage":"must be a valid URL"},"description":{"type":"string"},"rules":{"type":"object","additionalProperties":{"$ref":"rule.schema#"}},"functions":{"$ref":"extensions#functions"},"functionsDir":{"$ref":"extensions#functionsDir"},"formats":{"$ref":"shared#formats"},"extends":{"$ref":"extensions#extends"},"parserOptions":{"type":"object","properties":{"duplicateKeys":{"$ref":"shared#severity"},"incompatibleValues":{"$ref":"shared#severity"}},"additionalProperties":false},"overrides":{"type":"array","minItems":1,"items":{"if":{"type":"object","properties":{"files":{"type":"array","minItems":1,"items":{"type":"string","minLength":1,"pattern":"^[^#]+#"},"errorMessage":"must be an non-empty array of glob patterns"}},"required":["files"]},"then":{"type":"object","properties":{"files":true,"rules":{"type":"object","additionalProperties":{"$ref":"shared#severity"},"errorMessage":{"enum":"must be a valid severity level"}}},"required":["rules"],"additionalProperties":false,"errorMessage":{"required":"must contain rules when JSON Pointers are defined","additionalProperties":"must not override any other property than rules when JSON Pointers are defined"}},"else":{"allOf":[{"type":"object","properties":{"files":{"type":"array","minItems":1,"items":{"type":"string","pattern":"[^#]","minLength":1},"errorMessage":"must be an non-empty array of glob patterns"}},"required":["files"],"errorMessage":{"type":"must be a override, i.e. { \\"files\\": [\\"v2/**/*.json\\"], \\"rules\\": {} }"}},{"type":"object","properties":{"formats":{"$ref":"shared#formats"},"extends":{"$ref":"#/properties/extends"},"rules":{"$ref":"#/properties/rules"},"parserOptions":{"$ref":"#/properties/parserOptions"},"aliases":{"$ref":"#/properties/aliases"}},"anyOf":[{"required":["extends"]},{"required":["rules"]}]}]}},"errorMessage":{"minItems":"must not be empty"}},"aliases":{"type":"object","propertyNames":{"pattern":"^[A-Za-z][A-Za-z0-9_-]*$","errorMessage":{"pattern":"to avoid confusion the name must match /^[A-Za-z][A-Za-z0-9_-]*$/ regular expression","minLength":"the name of an alias must not be empty"}},"additionalProperties":{"if":{"type":"object"},"then":{"type":"object","properties":{"description":{"type":"string"},"targets":{"type":"array","minItems":1,"items":{"type":"object","properties":{"formats":{"$ref":"shared#formats"},"given":{"$ref":"shared#arrayish-given"}},"required":["formats","given"],"errorMessage":"a valid target must contain given and non-empty formats"},"errorMessage":{"minItems":"targets must have at least a single alias definition"}}},"required":["targets"],"errorMessage":{"required":"targets must be present and have at least a single alias definition"}},"else":{"$ref":"shared#arrayish-given"}}}},"anyOf":[{"required":["extends"]},{"required":["rules"]},{"required":["overrides"]}]}')},2743:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"@stoplight/spectral-core/meta/extensions","$defs":{"Extends":{"$anchor":"extends","oneOf":[{"$id":"ruleset","$ref":"ruleset.schema#","errorMessage":"must be a valid ruleset"},{"type":"array","items":{"anyOf":[{"$ref":"ruleset"},{"type":"array","minItems":2,"additionalItems":false,"items":[{"$ref":"ruleset"},{"type":"string","enum":["off","recommended","all"],"errorMessage":"allowed types are \\"off\\", \\"recommended\\" and \\"all\\""}]}]}}],"errorMessage":"must be a valid ruleset"},"Format":{"$anchor":"format","spectral-runtime":"format","errorMessage":"must be a valid format"},"Function":{"$anchor":"function","spectral-runtime":"function","type":"object","properties":{"function":true},"required":["function"]},"Functions":{"$anchor":"functions","not":{}},"FunctionsDir":{"$anchor":"functionsDir","not":{}}}}')},2744:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"@stoplight/spectral-core/meta/extensions","$defs":{"Extends":{"$anchor":"extends","oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"array","minItems":2,"additionalItems":false,"items":[{"type":"string"},{"enum":["all","recommended","off"],"errorMessage":"allowed types are \\"off\\", \\"recommended\\" and \\"all\\""}]}]}}]},"Format":{"$anchor":"format","enum":["oas2","oas3","oas3.0","oas3.1","asyncapi2","json-schema","json-schema-loose","json-schema-draft4","json-schema-draft6","json-schema-draft7","json-schema-draft-2019-09","json-schema-2019-09","json-schema-draft-2020-12","json-schema-2020-12"],"errorMessage":"must be a valid format"},"Functions":{"$anchor":"functions","type":"array","items":{"type":"string"}},"FunctionsDir":{"$anchor":"functionsDir","type":"string"},"Function":{"$anchor":"function","type":"object","properties":{"function":{"type":"string"}},"required":["function"]}}}')},2745:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeRule=void 0;const s=r(2434),n=r(2456);function i(e,t){if(void 0===e)throw new ReferenceError(`Cannot extend non-existing rule: "${t}"`)}t.mergeRule=function(e,t,r,o){switch(typeof r){case"boolean":i(e,t),e.enabled=r;break;case"string":case"number":i(e,t),e.severity=r,"off"===r?e.enabled=!1:e.enabled||(e.enabled=!0);break;case"object":if(void 0===e)return(0,s.assertValidRule)(r),new n.Rule(t,r,o);Object.assign(e,r,{enabled:!0,owner:e.owner});break;default:throw new Error("Invalid value")}return e}},2746:function(e,t,r){"use strict";function s(e){return Array.isArray(e)?e[0]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeRulesets=void 0,t.mergeRulesets=function(e,t,r){const n={...e,...t};if("extends"in n&&"extends"in n){const e=(i=n.extends,(Array.isArray(i)?i:[i]).map(s));n.extends=[...(Array.isArray(n.extends)?n.extends:[n.extends]).filter(t=>!e.includes(s(t))),...Array.isArray(n.extends)?n.extends:[n.extends]]}var i;if("aliases"in e&&"aliases"in t&&(n.aliases={...e.aliases,...t.aliases}),!("rules"in e)||!("rules"in t))return n;if(r)n.rules={...e.rules,...t.rules};else{const t=n;"extends"in t?Array.isArray(t.extends)?t.extends=[...t.extends,e]:t.extends=[t.extends,e]:t.extends=e}return n}},2747:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateDocumentWideResult=void 0;const s=r(2171);t.generateDocumentWideResult=(e,t,r,n)=>{var i;return{range:null!==(i=e.getRangeForJsonPath([],!0))&&void 0!==i?i:s.Document.DEFAULT_RANGE,message:t,code:n,severity:r,...null!==e.source?{source:e.source}:null,path:[]}}},2748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRulesetFunction=t.RulesetFunctionValidationError=void 0;const s=r(18),n=(0,s.__importDefault)(r(2131)),i=(0,s.__importDefault)(r(2232)),o=(0,s.__importDefault)(r(2310)),a=r(2096),u=r(2304),l=new n.default({allErrors:!0,allowUnionTypes:!0,strict:!0,keywords:["x-internal"]});(0,o.default)(l),(0,i.default)(l);class c extends u.RulesetValidationError{constructor(e,t){super(t.map(t=>{switch(t.keyword){case"type":{const r=(0,a.printPath)(t.instancePath.slice(1).split("/"),a.PrintStyle.Dot),s=Array.isArray(t.params.type)?t.params.type.join(", "):String(t.params.type);return`"${e}" function and its "${r}" option accepts only the following types: ${s}`}case"required":{const r=t.params.missingProperty,s=""===t.instancePath?r:(0,a.printPath)([...t.instancePath.slice(1).split("/"),r],a.PrintStyle.Dot);return`"${e}" function is missing "${s}" option`}case"additionalProperties":{const r=t.params.additionalProperty,s=""===t.instancePath?r:(0,a.printPath)([...t.instancePath.slice(1).split("/"),r],a.PrintStyle.Dot);return`"${e}" function does not support "${s}" option`}case"enum":{const r=(0,a.printPath)(t.instancePath.slice(1).split("/"),a.PrintStyle.Dot),s=t.params.allowedValues.map(a.printValue).join(", ");return`"${e}" function and its "${r}" option accepts only the following values: ${s}`}default:return t.message}}).join("\n"))}}t.RulesetFunctionValidationError=c;const d=e=>null===e;t.createRulesetFunction=function({input:e,errorOnInvalidInput:t=!1,options:r},s){const n=null===r?d:l.compile(r),i=null!==e?l.compile(e):e,o=function(e,r,...n){var a,u,l;return!1===(null==i?void 0:i(e))?t?[{message:null!==(l=null===(u=null===(a=i.errors)||void 0===a?void 0:a.find(e=>"errorMessage"===e.keyword))||void 0===u?void 0:u.message)&&void 0!==l?l:"invalid input"}]:void 0:(o.validator(r),s(e,r,...n))};Reflect.defineProperty(o,"name",{value:s.name});const a=new Set;return o.validator=function(e){if(!a.has(e)){if(!n(e))throw null===r?new TypeError(`"${s.name||"<unknown>"}" function does not accept any options`):"errors"in n&&Array.isArray(n.errors)&&n.errors.length>0?new c(s.name||"<unknown>",n.errors):new Error(`"functionOptions" of "${s.name||"<unknown>"}" function must be valid`);a.add(e)}},Reflect.defineProperty(o,"schemas",{enumerable:!1,value:{input:e,options:r}}),o}},2749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(18);(0,s.__exportStar)(r(2750),t),(0,s.__exportStar)(r(2751),t)},2750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2751:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}]);