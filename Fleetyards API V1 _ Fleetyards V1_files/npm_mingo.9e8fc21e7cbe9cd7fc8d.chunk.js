(self.webpackJsonp=self.webpackJsonp||[]).push([[38],{2077:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.isOperator=t.removeValue=t.setValue=t.traverse=t.filterMissing=t.resolveGraph=t.resolve=t.memoize=t.into=t.groupBy=t.sortBy=t.compare=t.hashCode=t.unique=t.isEqual=t.flatten=t.union=t.intersection=t.merge=t.objectMap=t.each=t.keys=t.has=t.ensureArray=t.isEmpty=t.truthy=t.notInArray=t.inArray=t.isUndefined=t.isNull=t.isNil=t.isFunction=t.isRegExp=t.isDate=t.isObjectLike=t.isObject=t.isArray=t.isNumber=t.isString=t.isBoolean=t.getType=t.cloneDeep=t.assert=t.BsonType=t.JsType=t.MIN_LONG=t.MAX_LONG=t.MIN_INT=t.MAX_INT=void 0,t.MAX_INT=2147483647,t.MIN_INT=-2147483648,t.MAX_LONG=Number.MAX_SAFE_INTEGER,t.MIN_LONG=Number.MIN_SAFE_INTEGER;var n,i=function(){};!function(e){e.NULL="null",e.UNDEFINED="undefined",e.BOOLEAN="boolean",e.NUMBER="number",e.STRING="string",e.DATE="date",e.REGEXP="regexp",e.ARRAY="array",e.OBJECT="object",e.FUNCTION="function"}(n=t.JsType||(t.JsType={})),function(e){e.BOOL="bool",e.INT="int",e.LONG="long",e.DOUBLE="double",e.DECIMAL="decimal",e.REGEX="regex"}(t.BsonType||(t.BsonType={}));var o=[n.NULL,n.UNDEFINED,n.BOOLEAN,n.NUMBER,n.STRING,n.DATE,n.REGEXP];function u(e){return null===e?"null":void 0===e?"undefined":e.constructor.name}function a(e){return typeof e===n.STRING}function s(e){return!!e&&e.constructor===Object}function c(e){return e===Object(e)}function f(e){return e instanceof Date}function l(e){return e instanceof RegExp}function p(e){return null==e}function v(e,r){return!t.inArray(e,r)}function d(e){return p(e)||t.isArray(e)&&0===e.length||s(e)&&0===t.keys(e).length||!e}function h(e,t){return!!e&&e.hasOwnProperty(t)}function y(e,r){if(e instanceof Array)for(var n=0,i=(o=e).length;n<i&&!1!==r(o[n],n);n++);else{var o;for(n=0,i=(o=t.keys(e)).length;n<i;n++)r(e[o[n]],o[n])}}function _(e,r){for(var n={},i=t.keys(e),o=0;o<i.length;o++){var u=i[o];n[u]=r(e[u],u)}return n}function g(e){var r=u(e).toLowerCase();switch(r){case n.BOOLEAN:case n.NUMBER:case n.REGEXP:return e.toString();case n.STRING:return JSON.stringify(e);case n.DATE:return e.toISOString();case n.NULL:case n.UNDEFINED:return r;case n.ARRAY:return"["+e.map(g)+"]";default:var i=r===n.OBJECT?"":""+u(e),o=t.keys(e);return o.sort(),i+"{"+o.map((function(t){return g(t)+":"+g(e[t])}))+"}"}}function $(e){if(p(e))return null;for(var t=0,r=g(e),n=r.length;n;)t=(t<<5)-t^r.charCodeAt(--n);return t>>>0}function O(e,t){return e<t?-1:e>t?1:0}t.assert=function(e,t){if(!e)throw new Error(t)},t.cloneDeep=function e(r){return t.isArray(r)?r.map(e):f(r)?new Date(r):s(r)?_(r,e):r},t.getType=u,t.isBoolean=function(e){return typeof e===n.BOOLEAN},t.isString=a,t.isNumber=function(e){return!isNaN(e)&&typeof e===n.NUMBER},t.isArray=Array.isArray||function(e){return e instanceof Array},t.isObject=s,t.isObjectLike=c,t.isDate=f,t.isRegExp=l,t.isFunction=function(e){return typeof e===n.FUNCTION},t.isNil=p,t.isNull=function(e){return null===e},t.isUndefined=function(e){return void 0===e},t.inArray=Array.prototype.includes?function(e,t){return e.includes(t)}:function(e,t){return isNaN(t)&&!a(t)?e.some((function(e){return isNaN(e)&&!a(e)})):e.indexOf(t)>-1},t.notInArray=v,t.truthy=function(e){return!!e},t.isEmpty=d,t.ensureArray=function(e){return e instanceof Array?e:[e]},t.has=h,t.keys=Object.keys,t.each=y,t.objectMap=_,t.merge=function e(r,n,o){if(r===i)return n;if(n===i)return r;var u=[r,n];if(!u.every(s)&&!u.every(t.isArray))throw Error("mismatched types. must both be array or object");if(o=o||{flatten:!1},t.isArray(r)){var a=r,c=n;if(o.flatten){for(var f=0,l=0;f<a.length&&l<c.length;)a[f]=e(a[f++],c[l++],o);for(;l<c.length;)a.push(n[l++])}else Array.prototype.push.apply(a,c)}else Object.keys(n).forEach((function(t){h(r,t)?r[t]=e(r[t],n[t],o):r[t]=n[t]}));return r},t.intersection=function(e,t){var r=!1;if(e.length>t.length){var n=e;e=t,t=n,r=!0}for(var i=Math.max(e.length,t.length),o=Math.min(e.length,t.length),u=e.reduce((function(e,t,r){return e[$(t)]=r,e}),{}),a=[],s=0,c=0;s<i&&c<o;s++){var f=u[$(t[s])];void 0!==f&&(a.push(f),c++)}return r||a.sort(),a.map((function(t){return e[t]}))},t.union=function(e,t){return m(m([],e),t.filter(v.bind(null,e)))},t.flatten=function(e,r){var n=[];return function e(r,i){for(var o=0,u=r.length;o<u;o++)t.isArray(r[o])&&(i>0||i<0)?e(r[o],Math.max(-1,i-1)):n.push(r[o])}(e,r),n},t.isEqual=function(e,r){for(var i=[e],o=[r];i.length>0;)if((e=i.pop())!==(r=o.pop())){var a=u(e).toLowerCase();if(a!==u(r).toLowerCase()||a===n.FUNCTION)return!1;switch(a){case n.ARRAY:if(e.length!==r.length)return!1;if(e.length===r.length&&0===e.length)continue;m(i,e),m(o,r);break;case n.OBJECT:var s=t.keys(e),c=t.keys(r);if(s.length!==c.length)return!1;s.sort(),c.sort();for(var f=0,l=s.length;f<l;f++){var p=s[f];if(p!==c[f])return!1;i.push(e[p]),o.push(r[p])}break;default:if(g(e)!==g(r))return!1}}return 0===i.length},t.unique=function(e){var t={},r=[];return y(e,(function(e){var n=$(e);h(t,n)||(r.push(e),t[n]=0)})),r},t.hashCode=$,t.compare=O,t.sortBy=function(e,t,r){var n=[],i=[],o={};if(r=r||O,d(e))return e;for(var u=0;u<e.length;u++){var s=e[u],c=t(s,u);p(c)?i.push(s):(a(c)&&(c+="\0"),o[c]?o[c].push(s):o[c]=[s],n.push(c))}for(n.sort(r),u=0;u<n.length;u++)m(i,o[n[u]]);return i},t.groupBy=function(e,t){var r={keys:[],groups:[]},n={};return y(e,(function(e){var i=t(e),o=$(i),u=-1;void 0===n[o]&&(u=r.keys.length,n[o]=u,r.keys.push(i),r.groups.push([])),u=n[o],r.groups[u].push(e)})),r};function m(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e instanceof Array?t.reduce((function(e,t){for(var r=Math.ceil(t.length/5e4),n=0;r-- >0;)Array.prototype.push.apply(e,t.slice(n,n+5e4)),n+=5e4;return e}),e):s(e)?t.filter(c).reduce((function(e,t){return y(t,(function(t,r){return e[r]=t})),e}),e):null}function b(e,t){return c(e)?e[t]:void 0}function A(e,t,r,n){var i=t.split("."),o=i[0],u=i.slice(1).join(".");1===i.length?r(e,o):(!0===n&&p(e[o])&&(e[o]={}),A(e[o],u,r,n))}t.into=m,t.memoize=function(e){var t,r=this;return t={},function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=$(n);return h(t,o)||(t[o]=e.apply(r,n)),t[o]}},t.resolve=function(e,r,n){var i=0;return n=n||{unwrapArray:!1},(e=t.inArray(o,u(e).toLowerCase())?e:function e(t,r){for(var n=t,o=function(t){var o=r[t];if(null===o.match(/^\d+$/)&&n instanceof Array){if(0===t&&i>0)return"break";i+=1;var u=r.slice(t);return n=n.reduce((function(t,r){var n=e(r,u);return void 0!==n&&t.push(n),t}),[]),"break"}if(void 0===(n=b(n,o)))return"break"},u=0;u<r.length;u++){if("break"===o(u))break}return n}(e,r.split(".")))instanceof Array&&n.unwrapArray?function(e,t){if(t<1)return e;for(;t--&&1===e.length;)e=e[0];return e}(e,i):e},t.resolveGraph=function e(t,r,n){void 0===n&&(n={preserveMissing:!1});var o,u,a=r.split("."),s=a[0],c=a.slice(1).join("."),f=null!==s.match(/^\d+$/),l=a.length>1;if(t instanceof Array)f?(o=b(t,Number(s)),l&&(o=e(o,c,n)),o=[o]):(o=[],y(t,(function(t){u=e(t,r,n),n.preserveMissing?(void 0===u&&(u=i),o.push(u)):void 0!==u&&o.push(u)})));else{if(u=b(t,s),l&&(u=e(u,c,n)),void 0===u)return;(o={})[s]=u}return o},t.filterMissing=function e(t){if(t instanceof Array)for(var r=t.length-1;r>=0;r--)t[r]===i?t.splice(r,1):e(t[r]);else if(s(t))for(var n in t)h(t,n)&&e(t[n]);return t},t.traverse=A,t.setValue=function(e,t,r){A(e,t,(function(e,t){e[t]=r}),!0)},t.removeValue=function(e,t){A(e,t,(function(e,t){e instanceof Array&&/^\d+$/.test(t)?e.splice(parseInt(t),1):s(e)&&delete e[t]}))};var E=/^\$[a-zA-Z0-9_]+$/;function j(e){return E.test(e)}t.isOperator=j,t.normalize=function(e){if(t.inArray(o,u(e).toLowerCase()))return l(e)?{$regex:e}:{$eq:e};if(c(e)){if(!t.keys(e).some(j))return{$eq:e};h(e,"$regex")&&(e.$regex=new RegExp(e.$regex,e.$options),delete e.$options)}return e}},2093:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redact=t.computeValue=t.addOperators=t.getOperator=t.useOperators=t.OperatorType=t.createConfig=void 0;var n,i=r(2077);function o(){return{idKey:"_id"}}t.createConfig=o,function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query"}(n=t.OperatorType||(t.OperatorType={}));var u={};function a(e){i.each(e,(function(e,t){i.assert(e instanceof Function&&i.isOperator(t),"invalid operator specified")}))}function s(e,t){a(t),i.into(u[e],t)}function c(e,t){return i.has(u[e],t)?u[e][t]:null}i.each(n,(function(e){u[e]={}})),t.useOperators=s,t.getOperator=c,t.addOperators=function(e,t){var r=t({computeValue:p,resolve:i.resolve});a(r),i.each(r,(function(t,r){var n=c(e,r);i.assert(!n,r+" already exists for '"+e+"' operators")}));var o={};switch(e){case n.QUERY:i.each(r,(function(e,t){e=e.bind(r),o[t]=function(t,r,n){return function(o){var u=i.resolve(o,t,{unwrapArray:!0});return e(t,u,r,n)}}}));break;case n.PROJECTION:i.each(r,(function(e,t){e=e.bind(r),o[t]=function(t,r,n,o){var u=i.resolve(t,n);return e(n,u,r,o)}}));break;default:i.each(r,(function(e,t){o[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(r,t)}}))}s(e,o)};var f={$$ROOT:function(e,t,r){return r.root},$$CURRENT:function(e,t,r){return e},$$REMOVE:function(e,t,r){}},l={$$KEEP:function(e,t,r){return e},$$PRUNE:function(e,t,r){},$$DESCEND:function(e,t,r){return i.has(t,"$cond")?(i.each(e,(function(o,u){i.isObjectLike(o)&&(i.isArray(o)?(n=[],i.each(o,(function(e){i.isObject(e)&&(e=v(e,t,r)),i.isNil(e)||n.push(e)}))):n=v(o,t,r),i.isNil(n)?delete e[u]:e[u]=n)})),e):e;var n}};function p(e,t,r,o){if((o=o||{config:null}).config=o.config||{idKey:"_id"},i.isOperator(r)){var a=c(n.EXPRESSION,r);if(a)return a(e,t,o);if(a=c(n.ACCUMULATOR,r))return i.isArray(e)||(e=p(e,t,null,o),t=null),i.assert(i.isArray(e),"'"+r+"' target must be an array."),a(e,t,o);throw new Error("operator '"+r+"' is not registered")}if(i.isString(t)&&t.length>0&&"$"===t[0]){if(i.has(l,t))return t;var s=t.split(".");if(i.has(f,s[0])){if(e=f[s[0]](e,null,i.into({root:e},o)),1==s.length)return e;t=t.substr(s[0].length)}return i.resolve(e,t.slice(1))}if(i.isArray(t))return t.map((function(t){return p(e,t,null,o)}));if(i.isObject(t)){var v={};return i.each(t,(function(r,a){if(v[a]=p(e,r,a,o),[n.EXPRESSION,n.ACCUMULATOR].some((function(e){return i.has(u[e],a)})))return i.assert(1===i.keys(t).length,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),v=v[a],!1})),v}return t}function v(e,t,r){var n=p(e,t,null,r);return i.has(l,n)?l[n](e,t,i.into({root:e},r)):n}t.computeValue=p,t.redact=v},2116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggregate=t.remove=t.find=void 0;var n=r(2136),i=r(2213);r(2519);var o=r(2136);Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return o.Query}});var u=r(2213);function a(e,t,r){return new n.Query(t).find(e,r)}function s(e,t){return new n.Query(t).remove(e)}function c(e,t){return new i.Aggregator(t).run(e)}Object.defineProperty(t,"Aggregator",{enumerable:!0,get:function(){return u.Aggregator}}),t.find=a,t.remove=s,t.aggregate=c,t.default={Aggregator:i.Aggregator,Query:n.Query,aggregate:c,find:a,remove:s}},2126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$type=t.$elemMatch=t.$size=t.$all=t.$exists=t.$regex=t.$mod=t.$gte=t.$gt=t.$lte=t.$lt=t.$nin=t.$in=t.$ne=t.$eq=t.createExpressionOperator=t.createQueryOperator=void 0;var n=r(2077),i=r(2136),o=r(2093);function u(e,t){if(n.isEqual(e,t))return!0;if(n.isNil(e)&&n.isNil(t))return!0;if(n.isArray(e)){var r=n.isEqual.bind(null,t);return e.some(r)||n.flatten(e,1).some(r)}return!1}function a(e,t){return n.isNil(e)?t.some(n.isNull):n.intersection(n.ensureArray(e),t).length>0}function s(e,t){if(n.isArray(e)&&!n.isEmpty(e)){var r=function(e){return e},o=t;n.keys(t).every(n.isOperator)&&(o={temp:t},r=function(e){return{temp:e}});for(var u=new i.Query(o),a=0,s=e.length;a<s;a++)if(u.test(r(e[a])))return!0}return!1}function c(e,t,r){return n.ensureArray(e).some((function(e){return n.getType(e)===n.getType(t)&&r(e,t)}))}t.createQueryOperator=function(e){return function(t,r,i){var o={unwrapArray:!0};return function(i){var u=n.resolve(i,t,o);return e(u,r)}}},t.createExpressionOperator=function(e){return function(t,r,n){var i=o.computeValue(t,r,null,n);return e.apply(void 0,i)}},t.$eq=u,t.$ne=function(e,t){return!u(e,t)},t.$in=a,t.$nin=function(e,t){return!a(e,t)},t.$lt=function(e,t){return c(e,t,(function(e,t){return e<t}))},t.$lte=function(e,t){return c(e,t,(function(e,t){return e<=t}))},t.$gt=function(e,t){return c(e,t,(function(e,t){return e>t}))},t.$gte=function(e,t){return c(e,t,(function(e,t){return e>=t}))},t.$mod=function(e,t){return n.ensureArray(e).some((function(e){return 2===t.length&&e%t[0]===t[1]}))},t.$regex=function(e,t){var r=function(e){return n.isString(e)&&!!e.match(t)};return(e=n.ensureArray(e)).some(r)||n.flatten(e,1).some(r)},t.$exists=function(e,t){return(!1===t||0===t)&&void 0===e||(!0===t||1===t)&&void 0!==e},t.$all=function(e,t){var r=!1;if(n.isArray(e)&&n.isArray(t))for(var i=0,o=t.length;i<o;i++){if(!n.isObject(t[i])||!n.inArray(n.keys(t[i]),"$elemMatch"))return n.intersection(t,e).length===o;r=r||s(e,t[i].$elemMatch)}return r},t.$size=function(e,t){return e.length===t},t.$elemMatch=s,t.$type=function(e,t){switch(t){case 1:case 19:case n.BsonType.DOUBLE:case n.BsonType.DECIMAL:return n.isNumber(e);case 2:case n.JsType.STRING:return n.isString(e);case 3:case n.JsType.OBJECT:return n.isObject(e);case 4:case n.JsType.ARRAY:return n.isArray(e);case 6:case n.JsType.UNDEFINED:return n.isNil(e);case 8:case n.JsType.BOOLEAN:case n.BsonType.BOOL:return n.isBoolean(e);case 9:case n.JsType.DATE:return n.isDate(e);case 10:case n.JsType.NULL:return n.isNull(e);case 11:case n.JsType.REGEXP:case n.BsonType.REGEX:return n.isRegExp(e);case 16:case n.BsonType.INT:return n.isNumber(e)&&e>=n.MIN_INT&&e<=n.MAX_INT&&-1===e.toString().indexOf(".");case 18:case n.BsonType.LONG:return n.isNumber(e)&&e>=n.MIN_LONG&&e<=n.MAX_LONG&&-1===e.toString().indexOf(".");default:return!1}}},2136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var n=r(2077),i=r(2518),o=r(2093),u=function(){function e(e,t){this.__criteria=e,this.__config=t||o.createConfig(),this.__compiled=[],this._compile()}return e.prototype._compile=function(){var e,t=this;n.assert(n.isObject(this.__criteria),"query criteria must be an object"),n.each(this.__criteria,(function(r,i){"$where"===i?e={field:i,expr:r}:"$expr"===i||n.inArray(["$and","$or","$nor"],i)?t._processOperator(i,i,r):(n.assert(!n.isOperator(i),"unknown top level operator: "+i),r=n.normalize(r),n.each(r,(function(e,r){t._processOperator(i,r,e)}))),n.isObject(e)&&t._processOperator(e.field,e.field,e.expr)}))},e.prototype._processOperator=function(e,t,r){var i=o.getOperator(o.OperatorType.QUERY,t);n.assert(!!i,"unknown operator "+t),this.__compiled.push(i(e,r,this.__config))},e.prototype.test=function(e){for(var t=0,r=this.__compiled.length;t<r;t++)if(!this.__compiled[t](e))return!1;return!0},e.prototype.find=function(e,t){var r=this;return new i.Cursor(e,(function(e){return r.test(e)}),t||{},this.__config)},e.prototype.remove=function(e){var t=this;return e.reduce((function(e,r){return t.test(r)||e.push(r),e}),[])},e}();t.Query=u},2180:function(e,t,r){"use strict";function n(e){return e instanceof a?e:new a(e)}function i(e,t){var r=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.Iterator=t.Lazy=void 0,t.Lazy=n;var o,u=new Error;!function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"}(o||(o={}));var a=function(){function e(e){var t,r,n,a,s,c,f,l;if(this.__iteratees=[],this.__first=!1,this.__done=!1,this.__buf=[],e instanceof Function&&(e={next:e}),(r=e)&&"object"==typeof r&&r.next instanceof Function){var p=e;t=function(){var e=p.next();if(e.done)throw u;return e.value}}else if(e instanceof Array){var v=e,d=v.length,h=0;t=function(){if(h<d)return v[h++];throw u}}else if(!(e instanceof Function))throw new Error("Source is not iterable. Must be Array, Function, or Generator");this.__next=(n=t,a=this.__iteratees,s=this.__buf,c=!1,f=-1,l=0,function(e){try{e:for(;!c;){var t=n();f++;for(var r=-1,p=a.length,v=!1;++r<p;){var d=a[r];switch(d.action){case o.MAP:t=d.value(t,f);break;case o.FILTER:if(!d.value(t,f))continue e;break;case o.TAKE:--d.value,d.value||(v=!0);break;case o.DROP:--d.value,d.value||i(a,r);continue e;default:break e}}if(c=v,!e)return{value:t,done:!1};s[l++]=t}}catch(e){if(e!==u)throw e}return{done:c=!0}})}return e.prototype._validate=function(){if(this.__first)throw new Error("Cannot add iteratee/transform after `first()`")},e.prototype._push=function(e,t){return this._validate(),this.__iteratees.push({action:e,value:t}),this},e.prototype.next=function(){return this.__next()},e.prototype.map=function(e){return this._push(o.MAP,e)},e.prototype.filter=function(e){return this._push(o.FILTER,e)},e.prototype.take=function(e){return e>0?this._push(o.TAKE,e):this},e.prototype.drop=function(e){return e>0?this._push(o.DROP,e):this},e.prototype.transform=function(e){this._validate();var t,r=this;return n((function(){return t||(t=n(e(r.value()))),t.next()}))},e.prototype.first=function(){return this.take(1),this.__first=!0,this},e.prototype.value=function(){return this.__done||(this.__done=this.__next(!0).done),this.__first?this.__buf[0]:this.__buf},e.prototype.each=function(e){for(;;){var t=this.next();if(t.done)break;if(!1===e(t.value))return!1}return!0},e.prototype.reduce=function(e,t){var r=this.next(),n=0;for(void 0!==t||r.done||(t=r.value,r=this.next(),n++);!r.done;)t=e(t,r.value,n++),r=this.next();return t},e.prototype.size=function(){return this.reduce((function(e,t){return++e}),0)},e}();t.Iterator=a,"function"==typeof Symbol&&(a.prototype[Symbol.iterator]=function(){return this})},2213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregator=void 0;var n=r(2077),i=r(2093),o=r(2180),u=function(){function e(e,t){this.__pipeline=e;var r=t;this.__options=r&&r.config?r:{config:t},this.__options.config=this.__options.config||i.createConfig()}return e.prototype.stream=function(e){var t=this,r=o.Lazy(e);return n.isEmpty(this.__pipeline)||n.each(this.__pipeline,(function(e){var o=n.keys(e),u=o[0],a=i.getOperator(i.OperatorType.PIPELINE,u);n.assert(1===o.length&&!!a,"invalid aggregation operator "+u),r=a(r,e[u],t.__options)})),r},e.prototype.run=function(e){return this.stream(e).value()},e}();t.Aggregator=u},2347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$addFields=void 0;var n=r(2077),i=r(2093);t.$addFields=function(e,t,r){var o=n.keys(t);return 0===o.length?e:e.map((function(e){var u=n.cloneDeep(e);return n.each(o,(function(o){var a=i.computeValue(e,t[o],null,r);void 0!==a?n.setValue(u,o,a):n.removeValue(u,o)})),u}))}},2348:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$group=void 0;var n=r(2077),i=r(2093);t.$group=function(e,t,r){var o=t._id;return e.transform((function(e){var u=n.groupBy(e,(function(e){return i.computeValue(e,o,null,r)}));delete(t=n.into({},t))._id;var a=-1,s=u.keys.length;return function(){if(++a===s)return{done:!0};var e=u.keys[a],o={};return void 0!==e&&(o._id=e),n.each(t,(function(e,t){o[t]=i.computeValue(u.groups[a],e,t,r)})),{value:o,done:!1}}}))}},2349:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$replaceRoot=void 0;var n=r(2077),i=r(2093);t.$replaceRoot=function(e,t,r){return e.map((function(e){return e=i.computeValue(e,t.newRoot,null,r),n.assert(n.isObject(e),"$replaceRoot expression must return an object"),e}))}},2350:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$sort=void 0;var n=r(2077);t.$sort=function(e,t,r){if(n.isEmpty(t)||!n.isObject(t))return e;var o=n.compare,u=r.collation;return n.isObject(u)&&n.isString(u.locale)&&(o=function(e){var t={sensitivity:i[e.strength||3],caseFirst:"off"===e.caseFirst?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:"shifted"===e.alternate};!0===(e.caseLevel||!1)&&("base"===t.sensitivity&&(t.sensitivity="case"),"accent"===t.sensitivity&&(t.sensitivity="variant"));var r=new Intl.Collator(e.locale,t);return function(e,t){if(!n.isString(e)||!n.isString(t))return n.compare(e,t);var i=r.compare(e,t);return i<0?-1:i>0?1:0}}(u)),e.transform((function(e){var r=n.keys(t);return n.each(r.reverse(),(function(r){var i=n.groupBy(e,(function(e){return n.resolve(e,r)})),u={},a=n.sortBy(i.keys,(function(e,t){return u[e]=t,e}),o);-1===t[r]&&a.reverse(),e=[],n.each(a,(function(t){return n.into(e,i.groups[u[t]])}))})),e}))};var i={1:"base",2:"accent",3:"variant"}},2351:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$or=void 0;var n=r(2077),i=r(2136);t.$or=function(e,t,r){n.assert(n.isArray(t),"Invalid expression. $or expects value to be an Array");var o=t.map((function(e){return new i.Query(e,r.config)}));return function(e){for(var t=0;t<o.length;t++)if(o[t].test(e))return!0;return!1}}},2518:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cursor=void 0;var n=r(2077),i=r(2213),o=r(2180),u=function(){function e(e,t,r,n){this.__predicateFn=t,this.__source=e,this.__projection=r,this.__operators=[],this.__result=null,this.__stack=[],this.__options={config:n}}return e.prototype._fetch=function(){return this.__result||(n.isObject(this.__projection)&&this.__operators.push({$project:this.__projection}),this.__result=o.Lazy(this.__source).filter(this.__predicateFn),this.__operators.length>0&&(this.__result=new i.Aggregator(this.__operators,this.__options).stream(this.__result))),this.__result},e.prototype.all=function(){return this._fetch().value()},e.prototype.count=function(){return this.all().length},e.prototype.skip=function(e){return this.__operators.push({$skip:e}),this},e.prototype.limit=function(e){return this.__operators.push({$limit:e}),this},e.prototype.sort=function(e){return this.__operators.push({$sort:e}),this},e.prototype.collation=function(e){return n.into(this.__options,{collation:e}),this},e.prototype.next=function(){if(this.__stack){if(this.__stack.length>0)return this.__stack.pop();var e=this._fetch().next();if(!e.done)return e.value;this.__stack=null}},e.prototype.hasNext=function(){if(!this.__stack)return!1;if(this.__stack.length>0)return!0;var e=this._fetch().next();return e.done?this.__stack=null:this.__stack.push(e.value),!!this.__stack},e.prototype.map=function(e){return this._fetch().map(e).value()},e.prototype.forEach=function(e){this._fetch().each(e)},e}();t.Cursor=u,"function"==typeof Symbol&&(u.prototype[Symbol.iterator]=function(){return this._fetch()})},2519:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2520),i=r(2524),o=r(2525),u=r(2542),a=r(2560),s=r(2093),c=r(2077);s.useOperators(s.OperatorType.EXPRESSION,c.into({},n,i)),s.useOperators(s.OperatorType.PIPELINE,{$project:o.$project,$skip:o.$skip,$limit:o.$limit,$sort:o.$sort}),s.useOperators(s.OperatorType.PROJECTION,a),s.useOperators(s.OperatorType.QUERY,u)},2520:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2521),t),i(r(2522),t),i(r(2523),t)},2521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$and=void 0;var n=r(2093),i=r(2077);t.$and=function(e,t,r){var o=n.computeValue(e,t,null,r);return i.truthy(o)&&o.every(i.truthy)}},2522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$not=void 0;var n=r(2093),i=r(2077);t.$not=function(e,t,r){var o=i.ensureArray(t);if(0==o.length)return!1;if(1==o.length)return!n.computeValue(e,o[0],null,r);throw"Expression $not takes exactly 1 argument"}},2523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$or=void 0;var n=r(2093),i=r(2077);t.$or=function(e,t,r){var o=n.computeValue(e,t,null,r);return i.truthy(o)&&o.some(i.truthy)}},2524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$cmp=t.$ne=t.$lte=t.$lt=t.$gte=t.$gt=t.$eq=void 0;var n=r(2093),i=r(2126);t.$eq=i.createExpressionOperator(i.$eq),t.$gt=i.createExpressionOperator(i.$gt),t.$gte=i.createExpressionOperator(i.$gte),t.$lt=i.createExpressionOperator(i.$lt),t.$lte=i.createExpressionOperator(i.$lte),t.$ne=i.createExpressionOperator(i.$ne),t.$cmp=function(e,t,r){var i=n.computeValue(e,t,null,r);return i[0]>i[1]?1:i[0]<i[1]?-1:0}},2525:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2347),t),i(r(2526),t),i(r(2527),t),i(r(2528),t),i(r(2529),t),i(r(2348),t),i(r(2530),t),i(r(2531),t),i(r(2532),t),i(r(2533),t),i(r(2534),t),i(r(2535),t),i(r(2349),t),i(r(2536),t),i(r(2537),t),i(r(2538),t),i(r(2539),t),i(r(2350),t),i(r(2540),t),i(r(2541),t)},2526:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],u=0,a=o.length;u<a;u++,i++)n[i]=o[u];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.$bucket=void 0;var i=r(2077),o=r(2093),u=r(2180);t.$bucket=function(e,t,r){var a=n(t.boundaries),s=t.default,c=a[0],f=a[a.length-1],l=t.output||{count:{$sum:1}};i.assert(a.length>2,"$bucket 'boundaries' expression must have at least 3 elements");for(var p=i.getType(c),v=0,d=a.length-1;v<d;v++)i.assert(p===i.getType(a[v+1]),"$bucket 'boundaries' must all be of the same type"),i.assert(a[v]<a[v+1],"$bucket 'boundaries' must be sorted in ascending order");!i.isNil(s)&&i.getType(t.default)===i.getType(c)&&i.assert(t.default>=f||t.default<c,"$bucket 'default' expression must be out of boundaries range");var h={};i.each(a,(function(e){return h[e]=[]})),i.isNil(s)||(h[s]=[]);var y=null;return u.Lazy((function(){return null===y&&(e.each((function(e){var n=o.computeValue(e,t.groupBy,null,r);if(i.isNil(n)||n<c||n>=f)i.assert(!i.isNil(s),"$bucket require a default for out of range values"),h[s].push(e);else{i.assert(n>=c&&n<f,"$bucket 'groupBy' expression must resolve to a value in range of boundaries");var u=function(e,t){var r=0,n=e.length-1;for(;r<=n;){var i=Math.round(r+(n-r)/2);if(t<e[i])n=i-1;else{if(!(t>e[i]))return i;r=i+1}}return r}(a,n),l=a[Math.max(0,u-1)];h[l].push(e)}})),a.pop(),i.isNil(s)||a.push(s),y=u.Lazy(a).map((function(e){var t=o.computeValue(h[e],l,null,r);return i.into(t,{_id:e})}))),y.next()}))}},2527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$bucketAuto=void 0;var n=r(2077),i=r(2093);t.$bucketAuto=function(e,t,r){var o=t.output||{count:{$sum:1}},u=t.groupBy,a=t.buckets;return n.assert(a>0,"The $bucketAuto 'buckets' field must be greater than 0, but found: "+a),e.transform((function(e){for(var t=Math.max(1,Math.round(e.length/a)),s=n.memoize(i.computeValue),c={},f=[],l=n.sortBy(e,(function(e){var t=s(e,u,null,r);return n.isNil(t)?f.push(e):(c[t]||(c[t]=[]),c[t].push(e)),t})),p=[],v=0,d=0,h=l.length;d<a&&v<h;d++){for(var y=Object.create({min:0,max:0}),_=[],g=0;g<t&&v<h;g++){var $=s(l[v],u,null,r);if(n.isNil($)&&($=null),n.into(_,n.isNil($)?f:c[$]),v+=n.isNil($)?f.length:c[$].length,n.has(y,"min")||(y.min=$),p.length>0)p[p.length-1]._id.max=y.min}d==a-1&&n.into(_,l.slice(v)),p.push(n.into(i.computeValue(_,o,null,r),{_id:y}))}return p.length>0&&(p[p.length-1]._id.max=s(l[l.length-1],u,null,r)),p}))}},2528:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$count=void 0;var n=r(2077),i=r(2180);t.$count=function(e,t,r){return n.assert(n.isString(t)&&""!==t.trim()&&-1===t.indexOf(".")&&"$"!==t.trim()[0],"Invalid expression value for $count"),i.Lazy((function(){var r={};return r[t]=e.size(),{value:r,done:!1}})).first()}},2529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$facet=void 0;var n=r(2077),i=r(2213);t.$facet=function(e,t,r){return e.transform((function(e){return[n.objectMap(t,(function(t){return new i.Aggregator(t,r).run(e)}))]}))}},2530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$limit=void 0,t.$limit=function(e,t,r){return e.take(t)}},2531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$lookup=void 0;var n=r(2077);t.$lookup=function(e,t,r){var i=t.from,o=t.localField,u=t.foreignField,a=t.as;n.assert(n.isArray(i)&&n.isString(u)&&n.isString(o)&&n.isString(a),"$lookup: invalid argument");var s={};return n.each(i,(function(e){var t=n.hashCode(n.resolve(e,u));s[t]=s[t]||[],s[t].push(e)})),e.map((function(e){var t=n.hashCode(n.resolve(e,o)),r=n.into({},e);return r[a]=s[t]||[],r}))}},2532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$match=void 0;var n=r(2136);t.$match=function(e,t,r){var i=new n.Query(t,r.config);return e.filter((function(e){return i.test(e)}))}},2533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$out=void 0;var n=r(2077);t.$out=function(e,t,r){return n.assert(n.isArray(t),"$out expression must be an array"),e.map((function(e){return t.push(e),e}))}},2534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$project=void 0;var n=r(2077),i=r(2093);function o(e,t){var r=[!1,!1];n.each(e,(function(e,i){i!==t.config.idKey&&(0===e||!1===e?r[0]=!0:1!==e&&!0!==e||(r[1]=!0),n.assert(!(r[0]&&r[1]),"Projection cannot have a mix of inclusion and exclusion."))}))}t.$project=function(e,t,r){if(n.isEmpty(t))return e;var u=n.keys(t),a=!1;o(t,r);var s=r.config.idKey;if(n.inArray(u,s)){var c=t[s];0!==c&&!1!==c||(u=u.filter(n.notInArray.bind(null,[s])),a=0==u.length)}else u.push(s);return e.map((function(e){return function e(t,r,u,a,s){var c=new Object,f=!1,l=!1,p=[],v=u.config.idKey;s&&p.push(v);a.forEach((function(a){var s=void 0,d=r[a];if(a!==v&&n.inArray([0,!1],d)&&(l=!0),a===v&&n.isEmpty(d))s=t[a];else if(n.isString(d))s=i.computeValue(t,d,a,u);else if(n.inArray([1,!0],d));else if(d instanceof Array)s=d.map((function(e){var r=i.computeValue(t,e,null,u);return n.isNil(r)?null:r}));else{if(!n.isObject(d))return void p.push(a);var h=n.keys(d),y=1==h.length?h[0]:null,_=i.getOperator(i.OperatorType.PROJECTION,y);if(_)"$slice"===y?n.ensureArray(d[y]).every(n.isNumber)?(s=_(t,d[y],a),f=!0):s=i.computeValue(t,d,a,u):s=_(t,d[y],a,u);else if(n.isOperator(y))s=i.computeValue(t,d[y],y,u);else if(n.has(t,a)){o(d,u);var g=t[a];g instanceof Array?s=g.map((function(t){return e(t,d,u,h,!1)})):(g=n.isObject(g)?g:t,s=e(g,d,u,h,!1))}else s=i.computeValue(t,d,null,u)}var $=n.resolveGraph(t,a,{preserveMissing:!0});void 0!==$&&n.merge(c,$,{flatten:!0}),n.notInArray([0,1,!1,!0],d)&&(void 0===s?n.removeValue(c,a):n.setValue(c,a,s))})),n.filterMissing(c),(f||l||s)&&(c=n.into({},t,c),p.length>0&&(c=n.cloneDeep(c),n.each(p,(function(e){return n.removeValue(c,e)}))));return c}(e,t,r,u,a)}))}},2535:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$redact=void 0;var n=r(2077),i=r(2093);t.$redact=function(e,t,r){return e.map((function(e){return i.redact(n.cloneDeep(e),t,r)}))}},2536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$replaceWith=void 0;var n=r(2349);t.$replaceWith=n.$replaceRoot},2537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$sample=void 0;var n=r(2077);t.$sample=function(e,t,r){var i=t.size;return n.assert(n.isNumber(i),"$sample size must be a positive integer"),e.transform((function(e){var t=e.length,r=-1;return function(){if(++r===i)return{done:!0};var n=Math.floor(Math.random()*t);return{value:e[n],done:!1}}}))}},2538:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$set=void 0;var n=r(2347);t.$set=n.$addFields},2539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$skip=void 0,t.$skip=function(e,t,r){return e.drop(t)}},2540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$sortByCount=void 0;var n=r(2348),i=r(2350);t.$sortByCount=function(e,t,r){var o={count:{$sum:1}};return o._id=t,i.$sort(n.$group(e,o,r),{count:-1},r)}},2541:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$unwind=void 0;var n=r(2077),i=r(2180);t.$unwind=function(e,t,r){n.isString(t)&&(t={path:t});var o,u=t.path.substr(1),a=t.includeArrayIndex||!1,s=t.preserveNullAndEmptyArrays||!1,c=function(e,t){return!1!==a&&(e[a]=t),e};return i.Lazy((function(){for(var t=function(){if(o instanceof i.Iterator&&!(r=o.next()).done)return{value:r};var t=e.next();if(t.done)return{value:t};if(t=t.value,o=n.resolve(t,u),n.isArray(o)){if(0===o.length&&!0===s){o=null;var r=n.cloneDeep(t);return n.removeValue(r,u),{value:{value:c(r,null),done:!1}}}o=i.Lazy(o).map((function(e,r){var i=n.cloneDeep(t);return n.setValue(i,u,e),c(i,r)}))}else if(!n.isEmpty(o)||!0===s){r=n.cloneDeep(t);return{value:{value:c(r,null),done:!1}}}};;){var r=t();if("object"==typeof r)return r.value}}))}},2542:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2543),t),i(r(2547),t),i(r(2548),t),i(r(2551),t),i(r(2556),t)},2543:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2544),t),i(r(2545),t),i(r(2546),t)},2544:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$all=void 0;var n=r(2126);t.$all=n.createQueryOperator(n.$all)},2545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$elemMatch=void 0;var n=r(2126);t.$elemMatch=n.createQueryOperator(n.$elemMatch)},2546:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$size=void 0;var n=r(2126);t.$size=n.createQueryOperator(n.$size)},2547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$nin=t.$ne=t.$lte=t.$lt=t.$in=t.$gte=t.$gt=t.$eq=void 0;var n=r(2126);t.$eq=n.createQueryOperator(n.$eq),t.$gt=n.createQueryOperator(n.$gt),t.$gte=n.createQueryOperator(n.$gte),t.$in=n.createQueryOperator(n.$in),t.$lt=n.createQueryOperator(n.$lt),t.$lte=n.createQueryOperator(n.$lte),t.$ne=n.createQueryOperator(n.$ne),t.$nin=n.createQueryOperator(n.$nin)},2548:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2549),t),i(r(2550),t)},2549:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$exists=void 0;var n=r(2126);t.$exists=n.createQueryOperator(n.$exists)},2550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$type=void 0;var n=r(2126);t.$type=n.createQueryOperator(n.$type)},2551:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2552),t),i(r(2553),t),i(r(2554),t),i(r(2555),t)},2552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$expr=void 0;var n=r(2093);t.$expr=function(e,t,r){return function(e){return n.computeValue(e,t,null,r)}}},2553:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$mod=void 0;var n=r(2126);t.$mod=n.createQueryOperator(n.$mod)},2554:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$regex=void 0;var n=r(2126);t.$regex=n.createQueryOperator(n.$regex)},2555:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$where=void 0;var n=r(2077);t.$where=function(e,t,r){var i;return i=n.isFunction(t)?t:new Function("return "+t+";"),function(e){return!0===i.call(e)}}},2556:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2557),t),i(r(2558),t),i(r(2559),t),i(r(2351),t)},2557:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$and=void 0;var n=r(2077),i=r(2136);t.$and=function(e,t,r){n.assert(n.isArray(t),"Invalid expression: $and expects value to be an Array");var o=[];return t.forEach((function(e){return o.push(new i.Query(e,r.config))})),function(e){for(var t=0;t<o.length;t++)if(!o[t].test(e))return!1;return!0}}},2558:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$nor=void 0;var n=r(2077),i=r(2351);t.$nor=function(e,t,r){n.assert(n.isArray(t),"Invalid expression. $nor expects value to be an Array");var o=i.$or("$or",t,r);return function(e){return!o(e)}}},2559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$not=void 0;var n=r(2077),i=r(2136);t.$not=function(e,t,r){var o={};o[e]=n.normalize(t);var u=new i.Query(o,r.config);return function(e){return!u.test(e)}}},2560:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2561),t),i(r(2562),t)},2561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$elemMatch=void 0;var n=r(2077),i=r(2136);t.$elemMatch=function(e,t,r,o){var u=n.resolve(e,r),a=new i.Query(t,o.config);n.assert(n.isArray(u),"$elemMatch: argument must resolve to array");for(var s=0;s<u.length;s++)if(a.test(u[s]))return[u[s]]}},2562:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],u=0,a=o.length;u<a;u++,i++)n[i]=o[u];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.$slice=void 0;var i=r(2077),o=r(2563);t.$slice=function(e,t,r,u){var a=i.resolve(e,r);return i.isArray(a)?o.$slice(e,i.isArray(t)?n([a],t):[a,t],u):a}},2563:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$slice=void 0;var n=r(2093),i=r(2077);t.$slice=function(e,t,r){var o=n.computeValue(e,t,null,r),u=o[0],a=o[1],s=o[2];return i.isNil(s)?a<0?(a=Math.max(0,u.length+a),s=u.length-a+1):(s=a,a=0):(a<0&&(a=Math.max(0,u.length+a)),i.assert(s>0,"Invalid argument value for $slice operator. Limit must be a positive number"),s+=a),u.slice(a,s)}}}]);